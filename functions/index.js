"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const AWS = require('aws-sdk');
const functions_1 = require("./functions");
exports.handler = async (event, context, callback) => {
    switch (event.path) {
        case ("/getGame"):
            let getGameData = (0, functions_1.SerializeGameData)({ gameName: event.queryStringParameters["gameName"] });
            callback(null, await (0, functions_1.getGame)(getGameData.gameName));
            break;
        case ("/listGames"):
            callback(null, await (0, functions_1.listGames)());
            break;
        case ("/createGame"):
            let createGameData = (0, functions_1.SerializeGameData)(JSON.parse(event.body));
            callback(null, await (0, functions_1.createGame)(createGameData));
            break;
        case ("/modifyGame"):
            let modifyGameData = (0, functions_1.SerializeGameData)(JSON.parse(event.body));
            callback(null, await (0, functions_1.modifyGame)(modifyGameData));
            break;
        case ("/deleteGame"):
            let deleteGameData = (0, functions_1.SerializeGameData)(JSON.parse(event.body));
            callback(null, await (0, functions_1.deleteGame)(deleteGameData.gameName));
            break;
        default:
            callback(null, (0, functions_1.HttpResponse)({ statusCode: 400, body: JSON.stringify("Invalid operation.") }));
            break;
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUMvQiwyQ0FBcUg7QUFFckgsT0FBTyxDQUFDLE9BQU8sR0FBRyxLQUFLLEVBQUUsS0FBVSxFQUFFLE9BQVksRUFBRSxRQUFhLEVBQUUsRUFBRTtJQUNsRSxRQUFRLEtBQUssQ0FBQyxJQUFJLEVBQUU7UUFDbEIsS0FBSyxDQUFDLFVBQVUsQ0FBQztZQUNmLElBQUksV0FBVyxHQUFHLElBQUEsNkJBQWlCLEVBQUMsRUFBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLHFCQUFxQixDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsQ0FBQTtZQUN4RixRQUFRLENBQUMsSUFBSSxFQUFFLE1BQU0sSUFBQSxtQkFBTyxFQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFBO1lBQ25ELE1BQU07UUFDUixLQUFLLENBQUMsWUFBWSxDQUFDO1lBQ2pCLFFBQVEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxJQUFBLHFCQUFTLEdBQUUsQ0FBQyxDQUFDO1lBQ2xDLE1BQU07UUFDUixLQUFJLENBQUMsYUFBYSxDQUFDO1lBQ2pCLElBQUksY0FBYyxHQUFHLElBQUEsNkJBQWlCLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUMvRCxRQUFRLENBQUMsSUFBSSxFQUFFLE1BQU0sSUFBQSxzQkFBVSxFQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7WUFDakQsTUFBTTtRQUNSLEtBQUksQ0FBQyxhQUFhLENBQUM7WUFDakIsSUFBSSxjQUFjLEdBQUcsSUFBQSw2QkFBaUIsRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQy9ELFFBQVEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxJQUFBLHNCQUFVLEVBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztZQUNqRCxNQUFNO1FBQ1IsS0FBSyxDQUFDLGFBQWEsQ0FBQztZQUNsQixJQUFJLGNBQWMsR0FBRyxJQUFBLDZCQUFpQixFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDL0QsUUFBUSxDQUFDLElBQUksRUFBRSxNQUFNLElBQUEsc0JBQVUsRUFBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUMxRCxNQUFNO1FBQ1I7WUFDRSxRQUFRLENBQUMsSUFBSSxFQUFFLElBQUEsd0JBQVksRUFBQyxFQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztZQUM1RixNQUFNO0tBQ1Q7QUFDSCxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBV1MgPSByZXF1aXJlKCdhd3Mtc2RrJyk7XHJcbmltcG9ydCB7IGdldEdhbWUsIGxpc3RHYW1lcywgY3JlYXRlR2FtZSwgbW9kaWZ5R2FtZSwgZGVsZXRlR2FtZSwgSHR0cFJlc3BvbnNlLCBTZXJpYWxpemVHYW1lRGF0YSB9IGZyb20gXCIuL2Z1bmN0aW9uc1wiXHJcblxyXG5leHBvcnRzLmhhbmRsZXIgPSBhc3luYyAoZXZlbnQ6IGFueSwgY29udGV4dDogYW55LCBjYWxsYmFjazogYW55KSA9PiB7XHJcbiAgc3dpdGNoIChldmVudC5wYXRoKSB7XHJcbiAgICBjYXNlIChcIi9nZXRHYW1lXCIpOlxyXG4gICAgICBsZXQgZ2V0R2FtZURhdGEgPSBTZXJpYWxpemVHYW1lRGF0YSh7Z2FtZU5hbWU6IGV2ZW50LnF1ZXJ5U3RyaW5nUGFyYW1ldGVyc1tcImdhbWVOYW1lXCJdfSlcclxuICAgICAgY2FsbGJhY2sobnVsbCwgYXdhaXQgZ2V0R2FtZShnZXRHYW1lRGF0YS5nYW1lTmFtZSkpXHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAoXCIvbGlzdEdhbWVzXCIpOlxyXG4gICAgICBjYWxsYmFjayhudWxsLCBhd2FpdCBsaXN0R2FtZXMoKSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZShcIi9jcmVhdGVHYW1lXCIpOlxyXG4gICAgICBsZXQgY3JlYXRlR2FtZURhdGEgPSBTZXJpYWxpemVHYW1lRGF0YShKU09OLnBhcnNlKGV2ZW50LmJvZHkpKTtcclxuICAgICAgY2FsbGJhY2sobnVsbCwgYXdhaXQgY3JlYXRlR2FtZShjcmVhdGVHYW1lRGF0YSkpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UoXCIvbW9kaWZ5R2FtZVwiKTpcclxuICAgICAgbGV0IG1vZGlmeUdhbWVEYXRhID0gU2VyaWFsaXplR2FtZURhdGEoSlNPTi5wYXJzZShldmVudC5ib2R5KSk7XHJcbiAgICAgIGNhbGxiYWNrKG51bGwsIGF3YWl0IG1vZGlmeUdhbWUobW9kaWZ5R2FtZURhdGEpKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIChcIi9kZWxldGVHYW1lXCIpOlxyXG4gICAgICBsZXQgZGVsZXRlR2FtZURhdGEgPSBTZXJpYWxpemVHYW1lRGF0YShKU09OLnBhcnNlKGV2ZW50LmJvZHkpKTtcclxuICAgICAgY2FsbGJhY2sobnVsbCwgYXdhaXQgZGVsZXRlR2FtZShkZWxldGVHYW1lRGF0YS5nYW1lTmFtZSkpO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGNhbGxiYWNrKG51bGwsIEh0dHBSZXNwb25zZSh7c3RhdHVzQ29kZTogNDAwLCBib2R5OiBKU09OLnN0cmluZ2lmeShcIkludmFsaWQgb3BlcmF0aW9uLlwiKX0pKTtcclxuICAgICAgYnJlYWs7XHJcbiAgfVxyXG59ICAiXX0=