"use strict";
const collection = require("../functions/collection");
const collectionManager = require("../functions/collectionManager");
const collectionErrorHandler = require("../functions/collectionErrorHandler");
const gameObject = require("../functions/game");
test("CreateCollection", async () => {
    let testCollection = new collection.Collection('erikchaulk', 'wishlist');
    let response = await testCollection.createCollection();
    expect(response).toEqual(testCollection);
});
test("addGame", async () => {
    let testGame = new gameObject.Game('erikchaulk', 'League of Legends', 2008, 'Moba', 'PC', 'Riot Games');
    let testCollection = new collection.Collection('erikchaulk', 'wishlist');
    testCollection.addGame(testGame);
    expect(testCollection.games).toEqual([testGame]);
});
test("isGameInCollection", async () => {
    let testGame = new gameObject.Game('erikchaulk', 'League of Legends', 2008, 'Moba', 'PC', 'Riot Games');
    let testCollection = new collection.Collection('erikchaulk', 'wishlist');
    testCollection.addGame(testGame);
    let condition = testCollection.isGameInCollection(testGame);
    expect(condition).toEqual(true);
});
test("removeGame", async () => {
    let newGame = new gameObject.Game('FunkyButLoving', 'League of Legends', 2008, 'Moba', 'PC', 'Riot Games');
    let someOtherGame = new gameObject.Game('FunkyButLoving', 'The Witness', 2016, 'Strategy', 'PC', 'Valve');
    let testCollection = new collection.Collection('FunkyButLoving', 'wishlist');
    testCollection.addGame(newGame);
    testCollection.addGame(someOtherGame);
    testCollection.removeGame(someOtherGame);
    expect(testCollection.games).toEqual([newGame]);
});
test("getCollection", async () => {
    let myGame = new gameObject.Game('testUser', 'League of Legends', 2008, 'Moba', 'PC', 'Riot Games');
    let myOtherGame = new gameObject.Game('testUser', 'Magic: The Gathering', 2016, 'Strategy', 'PC', 'Wizards of the Coast');
    let myCollection = new collection.Collection('testUser', 'wishlist', [myGame, myOtherGame]);
    await myCollection.createCollection();
    let response = await collectionManager.getCollection('testUser', 'wishlist');
    expect(response).toEqual(myCollection);
});
test("addGameToCollection", async () => {
    let myNewGame = new gameObject.Game('aNewUser', 'Half Life 2', 2004, 'First-Person Shooter', 'PC', 'Valve');
    let myNewCollection = new collection.Collection('aNewUser', 'wishlist');
    await myNewCollection.createCollection();
    let response = await collectionManager.addGameToCollection(myNewGame, myNewCollection);
    expect(response).toEqual(myNewCollection);
});
test("removeGameFromCollection", async () => {
    let walkingTesterGame = new gameObject.Game('walkingTester', 'Half Life 2', 2004, 'First-Person Shooter', 'PC', 'Valve');
    let walkingTesterCollection = new collection.Collection('walkingTester', 'wishlist', [walkingTesterGame]);
    await walkingTesterCollection.createCollection();
    let response = await collectionManager.removeGameFromCollection(walkingTesterGame, walkingTesterCollection);
    expect(response).toEqual(walkingTesterCollection);
});
test("collectionError", async () => {
    let collectionError = new collectionErrorHandler.CollectionError("Game not found in the collection.", 404);
    expect(collectionError.message).toEqual('Collection error, datastore response: Game not found in the collection.');
    expect(collectionError.statusCode).toEqual(404);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnVuY3Rpb25zLmNvbGxlY3Rpb24udGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImZ1bmN0aW9ucy5jb2xsZWN0aW9uLnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0FBQ3RELE1BQU0saUJBQWlCLEdBQUcsT0FBTyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7QUFDcEUsTUFBTSxzQkFBc0IsR0FBRyxPQUFPLENBQUMscUNBQXFDLENBQUMsQ0FBQztBQUM5RSxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQztBQUVoRCxJQUFJLENBQUMsa0JBQWtCLEVBQUUsS0FBSyxJQUFJLEVBQUU7SUFDaEMsSUFBSSxjQUFjLEdBQUcsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLFlBQVksRUFBQyxVQUFVLENBQUMsQ0FBQztJQUN4RSxJQUFJLFFBQVEsR0FBRyxNQUFNLGNBQWMsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBQ3ZELE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDN0MsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMsU0FBUyxFQUFFLEtBQUssSUFBSSxFQUFFO0lBQ3ZCLElBQUksUUFBUSxHQUFHLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsbUJBQW1CLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDeEcsSUFBSSxjQUFjLEdBQUcsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLFlBQVksRUFBQyxVQUFVLENBQUMsQ0FBQztJQUN4RSxjQUFjLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2pDLE1BQU0sQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxD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ZXNDb250ZW50IjpbImNvbnN0IGNvbGxlY3Rpb24gPSByZXF1aXJlKFwiLi4vZnVuY3Rpb25zL2NvbGxlY3Rpb25cIik7XHJcbmNvbnN0IGNvbGxlY3Rpb25NYW5hZ2VyID0gcmVxdWlyZShcIi4uL2Z1bmN0aW9ucy9jb2xsZWN0aW9uTWFuYWdlclwiKTtcclxuY29uc3QgY29sbGVjdGlvbkVycm9ySGFuZGxlciA9IHJlcXVpcmUoXCIuLi9mdW5jdGlvbnMvY29sbGVjdGlvbkVycm9ySGFuZGxlclwiKTtcclxuY29uc3QgZ2FtZU9iamVjdCA9IHJlcXVpcmUoXCIuLi9mdW5jdGlvbnMvZ2FtZVwiKTtcclxuXHJcbnRlc3QoXCJDcmVhdGVDb2xsZWN0aW9uXCIsIGFzeW5jICgpID0+IHtcclxuICAgIGxldCB0ZXN0Q29sbGVjdGlvbiA9IG5ldyBjb2xsZWN0aW9uLkNvbGxlY3Rpb24oJ2VyaWtjaGF1bGsnLCd3aXNobGlzdCcpO1xyXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgdGVzdENvbGxlY3Rpb24uY3JlYXRlQ29sbGVjdGlvbigpO1xyXG4gICAgZXhwZWN0KHJlc3BvbnNlKS50b0VxdWFsKHRlc3RDb2xsZWN0aW9uKTtcclxufSk7XHJcblxyXG50ZXN0KFwiYWRkR2FtZVwiLCBhc3luYyAoKSA9PiB7XHJcbiAgICBsZXQgdGVzdEdhbWUgPSBuZXcgZ2FtZU9iamVjdC5HYW1lKCdlcmlrY2hhdWxrJywgJ0xlYWd1ZSBvZiBMZWdlbmRzJywgMjAwOCwgJ01vYmEnLCAnUEMnLCAnUmlvdCBHYW1lcycpO1xyXG4gICAgbGV0IHRlc3RDb2xsZWN0aW9uID0gbmV3IGNvbGxlY3Rpb24uQ29sbGVjdGlvbignZXJpa2NoYXVsaycsJ3dpc2hsaXN0Jyk7XHJcbiAgICB0ZXN0Q29sbGVjdGlvbi5hZGRHYW1lKHRlc3RHYW1lKTtcclxuICAgIGV4cGVjdCh0ZXN0Q29sbGVjdGlvbi5nYW1lcykudG9FcXVhbChbdGVzdEdhbWVdKTtcclxufSk7XHJcblxyXG50ZXN0KFwiaXNHYW1lSW5Db2xsZWN0aW9uXCIsIGFzeW5jICgpID0+IHtcclxuICAgIGxldCB0ZXN0R2FtZSA9IG5ldyBnYW1lT2JqZWN0LkdhbWUoJ2VyaWtjaGF1bGsnLCAnTGVhZ3VlIG9mIExlZ2VuZHMnLCAyMDA4LCAnTW9iYScsICdQQycsICdSaW90IEdhbWVzJyk7XHJcbiAgICBsZXQgdGVzdENvbGxlY3Rpb24gPSBuZXcgY29sbGVjdGlvbi5Db2xsZWN0aW9uKCdlcmlrY2hhdWxrJywnd2lzaGxpc3QnKTtcclxuICAgIHRlc3RDb2xsZWN0aW9uLmFkZEdhbWUodGVzdEdhbWUpO1xyXG4gICAgbGV0IGNvbmRpdGlvbiA9IHRlc3RDb2xsZWN0aW9uLmlzR2FtZUluQ29sbGVjdGlvbih0ZXN0R2FtZSk7XHJcbiAgICBleHBlY3QoY29uZGl0aW9uKS50b0VxdWFsKHRydWUpO1xyXG59KTtcclxuXHJcbnRlc3QoXCJyZW1vdmVHYW1lXCIsIGFzeW5jICgpID0+IHtcclxuICAgIGxldCBuZXdHYW1lID0gbmV3IGdhbWVPYmplY3QuR2FtZSgnRnVua3lCdXRMb3ZpbmcnLCAnTGVhZ3VlIG9mIExlZ2VuZHMnLCAyMDA4LCAnTW9iYScsICdQQycsICdSaW90IEdhbWVzJyk7XHJcbiAgICBsZXQgc29tZU90aGVyR2FtZSA9IG5ldyBnYW1lT2JqZWN0LkdhbWUoJ0Z1bmt5QnV0TG92aW5nJywgJ1RoZSBXaXRuZXNzJywgMjAxNiwgJ1N0cmF0ZWd5JywgJ1BDJywgJ1ZhbHZlJyk7XHJcbiAgICBsZXQgdGVzdENvbGxlY3Rpb24gPSBuZXcgY29sbGVjdGlvbi5Db2xsZWN0aW9uKCdGdW5reUJ1dExvdmluZycsJ3dpc2hsaXN0Jyk7XHJcbiAgICB0ZXN0Q29sbGVjdGlvbi5hZGRHYW1lKG5ld0dhbWUpO1xyXG4gICAgdGVzdENvbGxlY3Rpb24uYWRkR2FtZShzb21lT3RoZXJHYW1lKTtcclxuICAgIHRlc3RDb2xsZWN0aW9uLnJlbW92ZUdhbWUoc29tZU90aGVyR2FtZSk7ICAgIFxyXG4gICAgZXhwZWN0KHRlc3RDb2xsZWN0aW9uLmdhbWVzKS50b0VxdWFsKFtuZXdHYW1lXSk7XHJcbn0pO1xyXG5cclxudGVzdChcImdldENvbGxlY3Rpb25cIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgbGV0IG15R2FtZSA9IG5ldyBnYW1lT2JqZWN0LkdhbWUoJ3Rlc3RVc2VyJywgJ0xlYWd1ZSBvZiBMZWdlbmRzJywgMjAwOCwgJ01vYmEnLCAnUEMnLCAnUmlvdCBHYW1lcycpO1xyXG4gICAgbGV0IG15T3RoZXJHYW1lID0gbmV3IGdhbWVPYmplY3QuR2FtZSgndGVzdFVzZXInLCAnTWFnaWM6IFRoZSBHYXRoZXJpbmcnLCAyMDE2LCAnU3RyYXRlZ3knLCAnUEMnLCAnV2l6YXJkcyBvZiB0aGUgQ29hc3QnKTtcclxuICAgIGxldCBteUNvbGxlY3Rpb24gPSBuZXcgY29sbGVjdGlvbi5Db2xsZWN0aW9uKCd0ZXN0VXNlcicsJ3dpc2hsaXN0JywgW215R2FtZSwgbXlPdGhlckdhbWVdKTtcclxuICAgIGF3YWl0IG15Q29sbGVjdGlvbi5jcmVhdGVDb2xsZWN0aW9uKCk7XHJcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBjb2xsZWN0aW9uTWFuYWdlci5nZXRDb2xsZWN0aW9uKCd0ZXN0VXNlcicsICd3aXNobGlzdCcpO1xyXG4gICAgZXhwZWN0KHJlc3BvbnNlKS50b0VxdWFsKG15Q29sbGVjdGlvbik7XHJcbn0pO1xyXG5cclxudGVzdChcImFkZEdhbWVUb0NvbGxlY3Rpb25cIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgbGV0IG15TmV3R2FtZSA9IG5ldyBnYW1lT2JqZWN0LkdhbWUoJ2FOZXdVc2VyJywgJ0hhbGYgTGlmZSAyJywgMjAwNCwgJ0ZpcnN0LVBlcnNvbiBTaG9vdGVyJywgJ1BDJywgJ1ZhbHZlJyk7XHJcbiAgICBsZXQgbXlOZXdDb2xsZWN0aW9uID0gbmV3IGNvbGxlY3Rpb24uQ29sbGVjdGlvbignYU5ld1VzZXInLCd3aXNobGlzdCcpO1xyXG4gICAgYXdhaXQgbXlOZXdDb2xsZWN0aW9uLmNyZWF0ZUNvbGxlY3Rpb24oKTtcclxuICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGNvbGxlY3Rpb25NYW5hZ2VyLmFkZEdhbWVUb0NvbGxlY3Rpb24obXlOZXdHYW1lLCBteU5ld0NvbGxlY3Rpb24pO1xyXG4gICAgZXhwZWN0KHJlc3BvbnNlKS50b0VxdWFsKG15TmV3Q29sbGVjdGlvbik7XHJcbn0pO1xyXG5cclxudGVzdChcInJlbW92ZUdhbWVGcm9tQ29sbGVjdGlvblwiLCBhc3luYyAoKSA9PiB7XHJcbiAgICBsZXQgd2Fsa2luZ1Rlc3RlckdhbWUgPSBuZXcgZ2FtZU9iamVjdC5HYW1lKCd3YWxraW5nVGVzdGVyJywgJ0hhbGYgTGlmZSAyJywgMjAwNCwgJ0ZpcnN0LVBlcnNvbiBTaG9vdGVyJywgJ1BDJywgJ1ZhbHZlJyk7XHJcbiAgICBsZXQgd2Fsa2luZ1Rlc3RlckNvbGxlY3Rpb24gPSBuZXcgY29sbGVjdGlvbi5Db2xsZWN0aW9uKCd3YWxraW5nVGVzdGVyJywnd2lzaGxpc3QnLFt3YWxraW5nVGVzdGVyR2FtZV0pO1xyXG4gICAgYXdhaXQgd2Fsa2luZ1Rlc3RlckNvbGxlY3Rpb24uY3JlYXRlQ29sbGVjdGlvbigpO1xyXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgY29sbGVjdGlvbk1hbmFnZXIucmVtb3ZlR2FtZUZyb21Db2xsZWN0aW9uKHdhbGtpbmdUZXN0ZXJHYW1lLCB3YWxraW5nVGVzdGVyQ29sbGVjdGlvbik7XHJcbiAgICBleHBlY3QocmVzcG9uc2UpLnRvRXF1YWwod2Fsa2luZ1Rlc3RlckNvbGxlY3Rpb24pO1xyXG59KTtcclxuXHJcbnRlc3QoXCJjb2xsZWN0aW9uRXJyb3JcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgbGV0IGNvbGxlY3Rpb25FcnJvciA9IG5ldyBjb2xsZWN0aW9uRXJyb3JIYW5kbGVyLkNvbGxlY3Rpb25FcnJvcihcIkdhbWUgbm90IGZvdW5kIGluIHRoZSBjb2xsZWN0aW9uLlwiLCA0MDQpO1xyXG4gICAgZXhwZWN0KGNvbGxlY3Rpb25FcnJvci5tZXNzYWdlKS50b0VxdWFsKCdDb2xsZWN0aW9uIGVycm9yLCBkYXRhc3RvcmUgcmVzcG9uc2U6IEdhbWUgbm90IGZvdW5kIGluIHRoZSBjb2xsZWN0aW9uLicpO1xyXG4gICAgZXhwZWN0KGNvbGxlY3Rpb25FcnJvci5zdGF0dXNDb2RlKS50b0VxdWFsKDQwNCk7XHJcbn0pOyJdfQ==